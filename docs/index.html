<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Tables">Tables</a></li>
</ul>


<h2>Modules</h2>
<ul>
  <li><strong>neturl</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>neturl</code></h1>

<p>neturl.lua - a robust url parser and builder</p>
<p> Bertrand Mansion, 2011-2012; License MIT</p>

<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#M:build">M:build&nbsp;()</a></td>
	<td class="summary">builds the url</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#buildQuery">buildQuery&nbsp;(tab, sep, key)</a></td>
	<td class="summary">builds the querystring</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#parseQuery">parseQuery&nbsp;(str, sep)</a></td>
	<td class="summary">Parses the querystring to a table
 This function can parse multidimensional pairs and is mostly compatible
 with PHP usage of brackets in key names like ?param[key]=value</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M:setQuery">M:setQuery&nbsp;(query)</a></td>
	<td class="summary">set the url query</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M:setAuthority">M:setAuthority&nbsp;(authority)</a></td>
	<td class="summary">set the authority part of the url
 The authority is parsed to find the user, password, port and host if available.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#parse">parse&nbsp;(url)</a></td>
	<td class="summary">Parse the url into the designated parts.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#removeDotSegments">removeDotSegments&nbsp;(path)</a></td>
	<td class="summary">removes dots and slashes in urls when possible
 This function will also remove multiple slashes</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M:resolve">M:resolve&nbsp;(other)</a></td>
	<td class="summary">builds a new url by using the one given as parameter and resolving paths</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#M:normalize">M:normalize&nbsp;()</a></td>
	<td class="summary">normalize a url path following some common normalization rules
 described on <a href="http://en.wikipedia.org/wiki/URL_normalization">The URL normalization page of Wikipedia</a></td>
	</tr>
</table>
<h2><a href="#Tables">Tables</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#options">options</a></td>
	<td class="summary">url options
 separator is set to `&` by default but could be anything like `&amp;amp;` or `;`</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#services">services</a></td>
	<td class="summary">list of known and common scheme ports
 as documented in <a href="http://www.iana.org/assignments/uri-schemes.html">IANA URI scheme list</a></td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    
    <dl class="function">
    <dt>
    <a name = "M:build"></a>
    <strong>M:build&nbsp;()</strong>
    </dt>
    <dd>
    builds the url 



    <h3>Returns:</h3>
    <ol>
        a string representing the built url
    </ol>


</dd>
    <dt>
    <a name = "buildQuery"></a>
    <strong>buildQuery&nbsp;(tab, sep, key)</strong>
    </dt>
    <dd>
    builds the querystring 

    <h3>Parameters:</h3>
    <ul>
       <li><code><em>tab</em></code>:  The key/value parameters</li>
       <li><code><em>sep</em></code>:  The separator to use (optional)</li>
       <li><code><em>key</em></code>:  The parent key if the value is multi-dimensional (optional)</li>
    </ul>


    <h3>Returns:</h3>
    <ol>
        a string representing the built querystring
    </ol>


</dd>
    <dt>
    <a name = "parseQuery"></a>
    <strong>parseQuery&nbsp;(str, sep)</strong>
    </dt>
    <dd>
    Parses the querystring to a table
 This function can parse multidimensional pairs and is mostly compatible
 with PHP usage of brackets in key names like ?param[key]=value 

    <h3>Parameters:</h3>
    <ul>
       <li><code><em>str</em></code>:  The querystring to parse</li>
       <li><code><em>sep</em></code>:  The separator between key/value pairs, defaults to `&`</li>
    </ul>


    <h3>Returns:</h3>
    <ol>
        a table representing the query key/value pairs
    </ol>


</dd>
    <dt>
    <a name = "M:setQuery"></a>
    <strong>M:setQuery&nbsp;(query)</strong>
    </dt>
    <dd>
    set the url query 

    <h3>Parameters:</h3>
    <ul>
       <li><code><em>query</em></code>:  Can be a string to parse or a table of key/value pairs</li>
    </ul>


    <h3>Returns:</h3>
    <ol>
        a table representing the query key/value pairs
    </ol>


</dd>
    <dt>
    <a name = "M:setAuthority"></a>
    <strong>M:setAuthority&nbsp;(authority)</strong>
    </dt>
    <dd>
    set the authority part of the url
 The authority is parsed to find the user, password, port and host if available. 

    <h3>Parameters:</h3>
    <ul>
       <li><code><em>authority</em></code>:  The string representing the authority</li>
    </ul>


    <h3>Returns:</h3>
    <ol>
        a string with what remains after the authority was parsed
    </ol>


</dd>
    <dt>
    <a name = "parse"></a>
    <strong>parse&nbsp;(url)</strong>
    </dt>
    <dd>
    Parse the url into the designated parts. 
 Depending on the url, the following parts can be available:
 scheme, userinfo, user, password, authority, host, port, path, 
 query, fragment

    <h3>Parameters:</h3>
    <ul>
       <li><code><em>url</em></code>:  Url string</li>
    </ul>


    <h3>Returns:</h3>
    <ol>
        a table with the different parts and a few other functions
    </ol>


</dd>
    <dt>
    <a name = "removeDotSegments"></a>
    <strong>removeDotSegments&nbsp;(path)</strong>
    </dt>
    <dd>
    removes dots and slashes in urls when possible
 This function will also remove multiple slashes 

    <h3>Parameters:</h3>
    <ul>
       <li><code><em>path</em></code>:  The string representing the path to clean</li>
    </ul>


    <h3>Returns:</h3>
    <ol>
        a string of the path without unnecessary dots and segments
    </ol>


</dd>
    <dt>
    <a name = "M:resolve"></a>
    <strong>M:resolve&nbsp;(other)</strong>
    </dt>
    <dd>
    builds a new url by using the one given as parameter and resolving paths 

    <h3>Parameters:</h3>
    <ul>
       <li><code><em>other</em></code>:  A string or a table representing a url</li>
    </ul>


    <h3>Returns:</h3>
    <ol>
        a new url table
    </ol>


</dd>
    <dt>
    <a name = "M:normalize"></a>
    <strong>M:normalize&nbsp;()</strong>
    </dt>
    <dd>
    normalize a url path following some common normalization rules
 described on <a href="http://en.wikipedia.org/wiki/URL_normalization">The URL normalization page of Wikipedia</a> 



    <h3>Returns:</h3>
    <ol>
        the normalized path
    </ol>


</dd>
</dl>
    <h2><a name="Tables"></a>Tables</h2>
    
    <dl class="function">
    <dt>
    <a name = "options"></a>
    <strong>options</strong>
    </dt>
    <dd>
    url options
 separator is set to `&` by default but could be anything like `&amp;amp;` or `;` 





</dd>
    <dt>
    <a name = "services"></a>
    <strong>services</strong>
    </dt>
    <dd>
    list of known and common scheme ports
 as documented in <a href="http://www.iana.org/assignments/uri-schemes.html">IANA URI scheme list</a> 

    <h3>Fields:</h3>
    <ul>
       <li><code><em>acap</em></code>: </li>
       <li><code><em>cap</em></code>: </li>
       <li><code><em>dict</em></code>: </li>
       <li><code><em>ftp</em></code>: </li>
       <li><code><em>gopher</em></code>: </li>
       <li><code><em>http</em></code>: </li>
       <li><code><em>https</em></code>: </li>
       <li><code><em>iax</em></code>: </li>
       <li><code><em>icap</em></code>: </li>
       <li><code><em>imap</em></code>: </li>
       <li><code><em>ipp</em></code>: </li>
       <li><code><em>ldap</em></code>: </li>
       <li><code><em>mtqp</em></code>: </li>
       <li><code><em>mupdate</em></code>: </li>
       <li><code><em>news</em></code>: </li>
       <li><code><em>nfs</em></code>: </li>
       <li><code><em>nntp</em></code>: </li>
       <li><code><em>rtsp</em></code>: </li>
       <li><code><em>sip</em></code>: </li>
       <li><code><em>snmp</em></code>: </li>
       <li><code><em>telnet</em></code>: </li>
       <li><code><em>tftp</em></code>: </li>
       <li><code><em>vemmi</em></code>: </li>
       <li><code><em>afs</em></code>: </li>
       <li><code><em>jms</em></code>: </li>
       <li><code><em>rsync</em></code>: </li>
       <li><code><em>prospero</em></code>: </li>
       <li><code><em>videotex</em></code>: </li>
    </ul>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.2</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
